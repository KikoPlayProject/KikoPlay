From 05cece0174700a05e80425b81e27684f21ef2ad5 Mon Sep 17 00:00:00 2001
From: neovali <valigarmanda55@gmail.com>
Date: Sat, 11 Nov 2023 08:16:03 +0800
Subject: [PATCH] install

---
 KikoPlay.pro                                         | 12 +++++-------
 ...top => io.github.KikoPlayProject.KikoPlay.desktop |  2 +-
 2 files changed, 6 insertions(+), 8 deletions(-)
 rename kikoplay.desktop => io.github.KikoPlayProject.KikoPlay.desktop (84%)

diff --git a/KikoPlay.pro b/KikoPlay.pro
index 9d97573..5a15449 100644
--- a/KikoPlay.pro
+++ b/KikoPlay.pro
@@ -496,15 +496,13 @@ linux-g++* {
 
 unix {
     # Install settings
-    target.path += /usr/bin
-    unix:icons.path = /usr/share/pixmaps
-    unix:desktop.path = /usr/share/applications
-    unix:icons.files = kikoplay.png kikoplay.xpm
-    unix:desktop.files = kikoplay.desktop
-    unix:web.path = /usr/share/kikoplay/web
+    target.path += /app/bin
+    unix:desktop.path = /app/share/applications
+    unix:desktop.files = io.github.KikoPlayProject.KikoPlay.desktop
+    unix:web.path = /app/share/kikoplay/web
     unix:web.files = web/*
 
-    INSTALLS += target icons desktop web
+    INSTALLS += target desktop web
     DEFINES += CONFIG_UNIX_DATA
 
     LIBS += -lmpv
diff --git a/kikoplay.desktop b/io.github.KikoPlayProject.KikoPlay.desktop
similarity index 84%
rename from kikoplay.desktop
rename to io.github.KikoPlayProject.KikoPlay.desktop
index cff68d8..3490df2 100644
--- a/kikoplay.desktop
+++ b/io.github.KikoPlayProject.KikoPlay.desktop
@@ -4,7 +4,7 @@ Name=KikoPlay
 Comment=KikoPlay is a full-featured danmu player!
 TryExec=KikoPlay
 Exec=env QT_QPA_PLATFORM=xcb KikoPlay
-Icon=/usr/share/pixmaps/kikoplay.png
+Icon=io.github.KikoPlayProject.KikoPlay
 Terminal=false
 StartupNotify=true
 Categories=Qt;AudioVideo;Video;
-- 
2.34.1

